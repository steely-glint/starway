# starway for sculpture park
THis is a second (third) variant on the Interactive Starway theme, this time with no RFID tags to distribute, lose etc.

A set of java classes to emit opc packets driving a LEDscape array - used for StarWay sculpture in Reno 
Key feautures:
1) mapping stars to leds - a config file allows selection of multiple leds to act as a single 'star'
2) generation of valid opc packets to drive the leds
3) 'twinkle' mode which illuminates all the stars with a shade at a slightly varying intensity
4) 'action' mode which is activated when the next star is selected (when a user
presses a button
5) creation of a config file that describes the led layout and sequence
as well as where to read the buttin data

How it works:
Beaglebone black runs:
1) A python script which reads Pin 12 on P8 in edge blocking mode.
When a user presses a switch pulling this pin high the python script 
sends a message down stdout (unbuffered). Std out is redirected to a fifo
3) A java program which reads from the fifo and 
and sends OPC udp packets to localhost .
4) LEDscape https://github.com/Yona-Appletree/LEDscape 
which is configured to talk to 51*3 Leds on each of the first 5 data lines.

Wiring:
The main sculpture consists of 657 RGB LEDs
One data pin drives all the LEDs in each diamond (the Sculpture is made of
5 diamonds (A->E), each with upto 51 (1->48) stars, each star containing 3 WS281x LEDs)
Interspersed with the stars are 'feeder' boards which provide power. To reduce complexity these boards also have 3 LEDs on them - the config mus 'skip' the feeder boards when selecting a star as they face the wrong way and are not visible to the public. 
Diamonds A and E are shorter (giving the illusion that starway is partially buried in the ground). This results in these leg having < 51 stars .



Note: 
The Beaglebone is nominally a 3.3v device - the LEDs are 5v.
fortunately they work without a level switcher between the two. 
(This requires that the first LED in each diamond is close to the BBB#1,
in then passes on a 5volt signal - acting as a buffer)

Remote support is possible by plugging an Android Phone into the larger USB
connector of the BBB and using the standard android 'tether' functionality to connect it to the internet. 
The BBB runs the |pipe| secure IoT software - which can be used to control, maintain and update the starway device - contact tim@pi.pe for more info

